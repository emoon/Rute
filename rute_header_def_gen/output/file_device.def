enum FileError {
    NoError,
    ReadError,
    WriteError,
    FatalError,
    ResourceError,
    OpenError,
    AbortError,
    TimeOutError,
    UnspecifiedError,
    RemoveError,
    RenameError,
    PositionError,
    ResizeError,
    PermissionsError,
    CopyError,
}

enum FileTime {
    FileAccessTime,
    FileBirthTime,
    FileMetadataChangeTime,
    FileModificationTime,
}

enum Permission {
    ReadOwner,
    WriteOwner,
    ExeOwner,
    ReadUser,
    WriteUser,
    ExeUser,
    ReadGroup,
    WriteGroup,
    ExeGroup,
    ReadOther,
    WriteOther,
    ExeOther,
}

enum FileHandleFlag {
    AutoCloseHandle,
    DontCloseHandle,
}

enum MemoryMapFlags {
    NoOptions,
    MapPrivateOption,
}

struct FileDevice : IODevice {
    error() -> FileDevice::FileError,
    unset_error(),
    [override] close(),
    [override] is_sequential() -> bool,
    handle() -> i32,
    [override] file_name() -> String,
    [override] pos() -> i64,
    [override] seek(offset: i64) -> bool,
    [override] at_end() -> bool,
    flush() -> bool,
    [override] size() -> i64,
    [override] resize(sz: i64) -> bool,
    [override] permissions() -> Permissions,
    [override] set_permissions(permission_spec: Permissions) -> bool,
    map(offset: i64, size: i64, flags: FileDevice::MemoryMapFlags) -> uchar?,
    unmap(address: &uchar) -> bool,
    file_time(time: FileDevice::FileTime) -> DateTime,
    set_file_time(new_date: &DateTimeType, file_time: FileDevice::FileTime) -> bool,
    [override] read_data(data: &char, maxlen: i64) -> i64,
    [override] write_data(data: &char, len: i64) -> i64,
    [override] read_line_data(data: &char, maxlen: i64) -> i64,
}

// vim: syntax=rust expandtab ts=4 sw=4
